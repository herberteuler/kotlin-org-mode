/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package orgmode

import java.io.File

fun main(args: Array<String>) {

    var org: Org
    
    if(args.size > 0) {
	org = OrgParser(FileSource(args[0])).parse()
    } else {

	org = OrgParser(StringSource("""
  =nixos-generate-config --root /mnt=
- TODO get config from github
""")).parse()
    }
    

    println(org.toString())
    println(org.toJson())

    File("/tmp/kt.html").writeText(org.toHtml())
}
